{
  "id": "3a8e2eef-caf4-444d-9ca9-c51e68710ee7",
  "version": 1,
  "storageLevel": "MEMORY_AND_DISK_SER_2",
  "name": "new2",
  "description": "No description",
  "sparkStreamingWindow": 1000,
  "checkpointPath": "checkpoint",
  "rawData": {
    "enabled": "false",
    "path": "myTestParquetPath"
  },
  "transformations": [{
    "name": "morphline-parser",
    "type": "Morphlines",
    "order": 0,
    "inputField": "_attachment_body",
    "outputFields": ["product", "price"],
    "configuration": {
      "morphline": {
        "id": "morphline1",
        "importCommands": ["org.kitesdk.**"],
        "commands": [{
          "readCSV": {
            "separator": ",",
            "columns": ["product", "price"],
            "trim": "true",
            "charset": "UTF-8",
            "quoteChar": "\"",
            "commentPrefix": "#"
          }
        }]
      }
    }
  }, {
    "name": "timestamp",
    "type": "DateTime",
    "order": 1,
    "inputField": "_attachment_body",
    "outputFields": ["timestamp"],
    "configuration": {
      "inputFormat": "autoGenerated"
    }
  }],
  "cubes": [{
    "name": "testCube",
    "checkpointConfig": {
      "timeDimension": "timestamp",
      "precision": "2h",
      "checkpointEvery": "40s",
      "computeLast": "1000s"
    },
    "dimensions": [{
      "name": "product",
      "field": "product",
      "precision": "identity",
      "type": "Default"
    }, {
      "name": "timestamp",
      "field": "timestamp",
      "precision": "2h",
      "type": "DateTime"
    }],
    "operators": [{
      "type": "Max",
      "name": "max_price",
      "configuration": {
        "inputField": "price"
      }
    }]
  }],
  "input": {
    "name": "in-kafka",
    "type": "Kafka",
    "configuration": {
      "topics": [{
        "topic": "test",
        "partition": "1"
      }],
      "zookeeper.connect": [{
        "host": "localhost",
        "port": "2181"
      }],
      "kafkaParams.group.id": "testgroup"
    }
  },
  "outputs": [{
    "name": "out-mongo",
    "type": "MongoDb",
    "configuration": {
      "hosts": [{
        "host": "localhost",
        "port": "27017"
      }],
      "dbName": "sparkta"
    }
  }]
}