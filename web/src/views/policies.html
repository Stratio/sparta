<section>
	<header>
		<st-heading title="{{'_POLICY_HEADER_TITLE_MAIN_' | translate}}" subtitle="{{'_INPUT_HEADER_TITLE_SECONDARY' | translate}}:"></st-heading>
	</header>

	<div class="c-panel">
		<table class="c-table c-table--full-width">
			<thead class="c-table__thead">
			  	<tr>
			    	<th class="c-table__td c-col--3">{{"_NAME_" | translate}}</th>
      				<th class="c-table__td">{{"_DESCRIPTION_" | translate}}</th>
      				<th class="c-table__td c-col--1"></th>
				</tr>
			</thead>
			<tbody>
				<tr class="c-table__tr" data-ng-repeat="policy in policies.policiesData.list">
					<td class="c-table__td c-table__td--no-wrap c-col--3">{{policy.name}}</td>
					<td class="c-table__td">{{policy.description}}</td>
					<td class="c-table__td c-table__td--no-wrap c-table__td--to-right c-col--1">
						<i class="c-icon c-icon--is-clickable c-icon--call-to-action icon-actions" data-ng-click="$root.stToggleFloatingMenu[policy.id]()">
							<st-floating-menu toggle-id="{{policy.id}}" align="right">
								<st-menu-element class-icon="icon-cross" data-ng-click="policies.deletePolicy(policy.id, $index)" data-qa="policy-context-menu-{{policy.id}}">
									{{"_INPUT_ACTIONS_MENU_DELETE_" | translate}}
								</st-menu-element>
								<st-menu-element class-icon="icon-play" data-ng-click="policies.runPolicy(policy.id)">
									{{"_OUTPUT_ACTIONS_MENU_RUN_" | translate}}
								</st-menu-element>
								<st-menu-element class-icon="icon-download" data-href="/policy/find/{{policy.id}}" data-download-file-name="{{policy.name}}.json">
									{{"_OUTPUT_ACTIONS_MENU_DOWNLOAD_" | translate}}
								</st-menu-element>
                <st-menu-element class-icon="icon-edit"  sref="dashboard.editPolicy({id: '{{policy.id}}'})">
                  {{"_OUTPUT_ACTIONS_MENU_EDIT_" | translate}}
                </st-menu-element>
							</st-floating-menu>
						</i>
					</td>
				</tr>
			</tbody>
		</table>
    </div>

    <footer class="c-row c-row--separated c-row--to-right c-row--footer">
    	<c-route-button button-class="'c-button c-button--call-to-action-1'" route="'dashboard.newPolicy'" text="'_INPUT_BUTTON_NEW_' | translate" data-qa="policies-new-button"></c-route-button>
    </footer>
</section>
