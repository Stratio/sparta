{
  "basicSettings": [{
      "propertyId": "name",
      "propertyName": "_NAME_",
      "propertyType": "text",
      "required": true,
      "qa": "policy-name",
      "col": 5
    },
    {
      "propertyId": "description",
      "propertyName": "_DESCRIPTION_",
      "propertyType": "text",
      "required": true,
      "qa": "policy-description",
      "col": 7
    }
  ],
  "advancedSettings": [{
      "propertyId": "sparkStreamingWindowNumber",
      "propertyName": "_SPARK_STREAMING_WINDOW_",
      "propertyType": "number",
      "default": 6,
      "width": 6,
      "position": "left",
      "required": true,
      "qa": "policy-spark-streaming-window-sparkStreamingWindowNumber"
    },
    {
      "propertyId": "sparkStreamingWindowTime",
      "propertyName": "_WHITE_SPACE_",
      "propertyType": "select",
      "width": 6,
      "position": "right",
      "qa": "policy-spark-streaming-window-sparkStreamingWindowTime",
      "default": "s",
      "required": true,
      "values": [{
          "label": "Milliseconds",
          "value": "ms"
        },
        {
          "label": "Seconds",
          "value": "s"
        },
        {
          "label": "Minutes",
          "value": "m"
        },
        {
          "label": "Hours",
          "value": "h"
        },
        {
          "label": "Days",
          "value": "d"
        }
      ]
    },
    {
      "propertyId": "rememberNumber",
      "propertyName": "_POLICY_REMEMBER_FIELD_",
      "propertyType": "number",
      "width": 6,
      "position": "left",
      "required": "scope.form['dataSourcerememberTimeForm']['dataSourcerememberTimeForm'].$modelValue.length > 0",
      "qa": "policy-remember-number"
    },
    {
      "propertyId": "rememberTime",
      "propertyName": "_WHITE_SPACE_",
      "propertyType": "select",
      "width": 6,
      "position": "right",
      "qa": "policy-remember-time",
      "required": "scope.form['dataSourcerememberNumberForm']['dataSourcerememberNumberForm'].$modelValue",
      "values": [{
          "label": "Milliseconds",
          "value": "ms"
        },
        {
          "label": "Seconds",
          "value": "s"
        },
        {
          "label": "Minutes",
          "value": "m"
        },
        {
          "label": "Hours",
          "value": "h"
        },
        {
          "label": "Days",
          "value": "d"
        }
      ]
    },
    {
      "propertyId": "storageLevel",
      "propertyName": "_STORAGELEVEL_",
      "propertyType": "select",
      "required": true,
      "default": "MEMORY_AND_DISK_SER",
      "width": 6,
      "position": "left",
      "qa": "policy-storage-level",
      "values": [{
          "label": "DISK_ONLY",
          "value": "DISK_ONLY"
        },
        {
          "label": "DISK_ONLY_2",
          "value": "DISK_ONLY_2"
        },
        {
          "label": "MEMORY_ONLY",
          "value": "MEMORY_ONLY"
        },
        {
          "label": "MEMORY_ONLY_2",
          "value": "MEMORY_ONLY_2"
        },
        {
          "label": "MEMORY_ONLY_SER",
          "value": "MEMORY_ONLY_SER"
        },
        {
          "label": "MEMORY_ONLY_SER_2",
          "value": "MEMORY_ONLY_SER_2"
        },
        {
          "label": "MEMORY_AND_DISK",
          "value": "MEMORY_AND_DISK"
        },
        {
          "label": "MEMORY_AND_DISK_2",
          "value": "MEMORY_AND_DISK_2"
        },
        {
          "label": "MEMORY_AND_DISK_SER",
          "value": "MEMORY_AND_DISK_SER"
        },
        {
          "label": "MEMORY_AND_DISK_SER_2",
          "value": "MEMORY_AND_DISK_SER_2"
        }
      ]
    }
  ],
  "steps": [{
      "name": "_POLICY_._STEPS_._INPUT_",
      "icon": "icon-input",
      "currentMessage": "_MESSAGE_._INPUT_STEP_"
    },
    {
      "name": "_POLICY_._STEPS_._TRANSFORMATION_",
      "icon": "icon-content-left",
      "currentMessage": "_MESSAGE_._TRANSFORMATION_STEP_",
      "availableMessage": "_MESSAGE_._TRANSFORMATION_STEP_AVAILABLE_"
    },
    {
      "name": "_POLICY_._STEPS_._CUBES_",
      "icon": "icon-box",
      "currentMessage": "_MESSAGE_._CUBE_STEP_",
      "availableMessage": "_MESSAGE_._CUBE_STEP_AVAILABLE_"
    }
  ],
  "helpLinks": [
    "https://stratio.atlassian.net/wiki/display/SPARTA0x9/Create+and+Submit+Policy",
    "https://stratio.atlassian.net/wiki/display/SPARTA0x9/Inputs",
    "https://stratio.atlassian.net/wiki/display/SPARTA0x9/Transformations",
    "https://stratio.atlassian.net/wiki/display/SPARTA0x9/Cubes",
    "https://stratio.atlassian.net/wiki/display/SPARTA0x9/Outputs"
  ],
  "model": {
    "outputs": {
      "writer": {
        "properties": [{
            "propertyId": "tableName",
            "propertyName": "_TABLE_NAME_",
            "propertyType": "text",
            "required": true,
            "qa": "trigger-tableName",
            "tooltip": "If is assigned the result data is saved in one table, topic or queue with this name, if is not assigned then the output name is the trigger name",
            "position": "left",
            "width": 6
          },
          {
            "propertyId": "saveMode",
            "propertyName": "_SAVE_MODE_",
            "propertyType": "select",
            "required": true,
            "default": "Append",
            "qa": "trigger-save-mode",
            "tooltip": "The save mode correspond with Spark save modes, but some outputs support upsert with primary key fields",
            "values": [{
                "label": "_APPEND_",
                "value": "Append"
              },
              {
                "label": "_ERROR_IF_EXISTS_",
                "value": "ErrorIfExists"
              },
              {
                "label": "_IGNORE_",
                "value": "Ignore"
              },
              {
                "label": "_OVERWRITE_",
                "value": "Overwrite"
              },
              {
                "label": "_UPSERT_",
                "value": "Upsert"
              }
            ],
            "width": 6,
            "position": "right"
          },
          {
            "propertyId": "partitionBy",
            "propertyName": "_PARTITION_BY_",
            "propertyType": "text",
            "regexp": "",
            "required": false,
            "position": "left",
            "width": 6,
            "tooltip": "Partition the output by one or more fields, separated by ','. This property is supported by outputs that write on file systems",
            "qa": "cube-partitionBy"
          }
        ]
      }
    },
    "types": [{
        "iconName": "ingestion",
        "name": "Ingestion"
      },
      {
        "iconName": "kite",
        "name": "Morphlines"
      },
      {
        "iconName": "datetime",
        "name": "DateTime"
      },
      {
        "iconName": "globe",
        "name": "Geo"
      },
      {
        "iconName": "split",
        "name": "Split"
      },
      {
        "iconName": "puzzle",
        "name": "Custom"
      }
    ],
    "defaultOutputFieldTypes": [{
        "label": "String",
        "value": "string"
      },
      {
        "label": "Long",
        "value": "long"
      },
      {
        "label": "Double",
        "value": "double"
      },
      {
        "label": "Integer",
        "value": "integer"
      },
      {
        "label": "Boolean",
        "value": "boolean"
      },
      {
        "label": "Date",
        "value": "date"
      },
      {
        "label": "Datetime",
        "value": "datetime"
      },
      {
        "label": "Timestamp",
        "value": "timestamp"
      },
      {
        "label": "Array Double",
        "value": "arraydouble"
      },
      {
        "label": "Array String",
        "value": "arraystring"
      },
      {
        "label": "Text",
        "value": "text"
      }
    ],
    "defaultInput": {
      "label": "_attachment_body",
      "value": "_attachment_body"
    },
    "Morphlines": {
      "defaultConfiguration": {
        "morphline": {
          "id": "morphline1",
          "importCommands": [
            "org.kitesdk.**"
          ],
          "commands": [{
              "readJson": {}
            },
            {
              "extractJsonPaths": {
                "paths": {
                  "field1": "/field-in-json1",
                  "field2": "/field-in-json2"
                }
              }
            }
          ]
        }
      }
    },
    "DateTime": {
      "outputFieldTypes": [{
          "label": "Datetime",
          "value": "datetime"
        },
        {
          "label": "Timestamp",
          "value": "timestamp"
        }
      ],
      "properties": [ {
        "propertyId": "formatFrom",
        "propertyName": "_FORMAT_FROM_",
        "propertyType": "select",
        "qa": "policy-model-dateTime-formatFrom",
        "values": [{
          "label": "Auto Generated",
          "value": "AUTOGENERATED"
        },
          {
            "label": "Standard",
            "value": "STANDARD"
          },
          {
            "label": "User",
            "value": "USER"
          }
        ],
        "default": "AUTOGENERATED",
        "required": true
      },
        {
          "propertyId": "userFormat",
          "propertyName": "_USER_FORMAT_",
          "propertyType": "text",
          "required": false,
          "qa": "policy-cube-dimension-dateTime-userFormat"
        },
        {
          "propertyId": "standardFormat",
          "propertyName": "_STANDARD_FORMAT_",
          "propertyType": "select",
          "qa": "policy-model-dateTime-standardFormat",
        "values": [{
            "label": "Unix",
            "value": "unix"
          },
          {
            "label": "Unix millis",
            "value": "unixMillis"
          },
          {
            "label": "yyyy-MM-dd HH:mm:ss",
            "value": "hive"
          },
          {
            "label": "Auto generated",
            "value": "autoGenerated"
          },
          {
            "label": "yyyyMMdd",
            "value": "basicDate"
          },
          {
            "label": "yyyyMMdd'T'HHmmss.SSSZ",
            "value": "basicDateTime"
          },
          {
            "label": "yyyyMMdd'T'HHmmssZ",
            "value": "basicDateTimeNoMillis"
          },
          {
            "label": "yyyyDDD",
            "value": "basicOrdinalDate"
          },
          {
            "label": "yyyyDDD'T'HHmmss.SSSZ",
            "value": "basicOrdinalDateTime"
          },
          {
            "label": "yyyyDDD'T'HHmmssZ",
            "value": "basicOrdinalDateTimeNoMillis"
          },
          {
            "label": "HHmmss.SSSZ",
            "value": "basicTime"
          },
          {
            "label": "HHmmssZ",
            "value": "basicTimeNoMillis"
          },
          {
            "label": "'T'HHmmss.SSSZ",
            "value": "basicTTime"
          },
          {
            "label": "'T'HHmmssZ",
            "value": "basicTTimeNoMillis"
          },
          {
            "label": "xxxx'W'wwe",
            "value": "basicWeekDate"
          },
          {
            "label": "xxxx'W'wwe'T'HHmmss.SSSZ",
            "value": "basicWeekDateTime"
          },
          {
            "label": "xxxx'W'wwe'T'HHmmssZ",
            "value": "basicWeekDateTimeNoMillis"
          },
          {
            "label": "yyyy-MM-dd",
            "value": "date"
          },
          {
            "label": "yyyy-MM-dd'T'HH:mm:ss.SSS",
            "value": "dateHourMinuteSecondMillis"
          },
          {
            "label": "yyyy-MM-dd'T'HH:mm:ss.SSSZZ",
            "value": "dateTime"
          },
          {
            "label": "yyyy-MM-dd'T'HH:mm:ssZZ",
            "value": "dateTimeNoMillis"
          },
          {
            "label": "HH:mm:ss.SSS",
            "value": "hourMinuteSecondFraction"
          },
          {
            "label": "yyyy-DDD",
            "value": "ordinalDate"
          },
          {
            "label": "yyyy-DDD'T'HH:mm:ssZZ",
            "value": "ordinalDateTimeNoMillis"
          },
          {
            "label": "HH:mm:ss.SSSZZ",
            "value": "time"
          },
          {
            "label": "'T'HH:mm:ss.SSSZZ",
            "value": "tTime"
          },
          {
            "label": "'T'HH:mm:ssZZ",
            "value": "tTimeNoMillis"
          },
          {
            "label": "xxxx-'W'ww-e",
            "value": "weekDate"
          },
          {
            "label": "xxxx-'W'ww-e'T'HH:mm:ss.SSSZZ",
            "value": "weekDateTime"
          },
          {
            "label": "xxxx-'W'ww-e'T'HH:mm:ssZZ",
            "value": "weekDateTimeNoMillis"
          }
        ],
        "default": "unixMillis",
        "required": true
      }]
    },
    "Split": {
      "outputFieldTypes": [{
        "label": "String",
        "value": "string"
      },
        {
          "label": "Array String",
          "value": "arraystring"
        },
        {
          "label": "Text",
          "value": "text"
        }
      ],
      "properties": [{
        "propertyId": "splitMethod",
        "propertyName": "_SPLIT_METHOD_",
        "propertyType": "select",
        "width": 3,
        "qa": "policy-transformation-split-splitMethod",
        "values": [{
          "label": "_BYINDEX_",
          "value": "BYINDEX"
        },
          {
            "label": "_BYREGEX_",
            "value": "BYREGEX"
          },
          {
            "label": "_BYCHAR_",
            "value": "BYCHAR"
          }
        ],
        "default": "BYINDEX",
        "required": true
      },
        {
          "propertyId": "byRegexPattern",
          "propertyName": "_BYREGEX_PATTERN_",
          "propertyType": "text",
          "required": false,
          "tooltip": "Insert the regular expression that should be used to split the field (e.g. [.])",
          "visible": [
            [{
              "propertyId": "splitMethod",
              "value": "BYREGEX"
            }]
          ],
          "qa": "policy-transformation-split-byRegexPattern"
        },
        {
          "propertyId": "byCharPattern",
          "propertyName": "_BYCHAR_PATTERN_",
          "propertyType": "text",
          "required": false,
          "tooltip": "Insert the character that should be used to split the field (e.g. \\t, |, $)",
          "visible": [
            [{
              "propertyId": "splitMethod",
              "value": "BYCHAR"
            }]
          ],
          "qa": "policy-transformation-split-byCharPattern"
        },
        {
          "propertyId": "byIndexPattern",
          "propertyName": "_BYINDEX_PATTERN_",
          "propertyType": "text",
          "required": false,
          "tooltip": "Insert the comma-separated indices that should be used to split the field (e.g. 1,3,7)[NOTE: indexes start at 0]",
          "visible": [
            [{
              "propertyId": "splitMethod",
              "value": "BYINDEX"
            }]
          ],
          "qa": "policy-transformation-split-byIndexPattern"
        },
        {
          "propertyId": "excludeIndexes",
          "propertyName": "_EXCLUDE_INDEXES_",
          "propertyType": "boolean",
          "default": false,
          "tooltip": "If checked, the chars found at the positions specified for the splitting will be discarded",
          "visible": [
            [{
              "propertyId": "splitMethod",
              "value": "BYINDEX"
            }]
          ],
          "qa": "policy-transformation-split-excludeIndexes"
        },
        {
          "propertyId": "removeInputField",
          "propertyName": "_REMOVE_INPUT_FIELD_",
          "propertyType": "boolean",
          "default": false,
          "tooltip": "If checked, the input field will be removed and won't be available in the following transformations.",
          "qa": "policy-transformation-split-removeInputField"
        },
        {
          "propertyId": "whenError",
          "propertyName": "_TRANSFORMATION_WHEN_ERROR_",
          "propertyType": "select",
          "values": [{
            "label": "Error",
            "value": "Error"
          },
            {
              "label": "Discard",
              "value": "Discard"
            },
            {
              "label": "Null",
              "value": "Null"
            }
          ],
          "position": "left",
          "default": "Error",
          "required": true,
          "qa": "policy-transformation-split-whenError"
        }]
    },
    "Geo": {
      "defaultConfiguration": {
        "latitude": "lat",
        "longitude": "long"
      },
      "outputFieldTypes": [{
        "label": "String",
        "value": "string"
      }]
    }
  },
  "cube": {
    "defaultName": "cube",
    "types": [{
        "label": "Default",
        "value": "Default"
      },
      {
        "label": "DateTime",
        "value": "DateTime"
      },
      {
        "label": "GeoHash",
        "value": "GeoHash"
      }
    ],
    "precisionOptions": [{
        "type": "GeoHash",
        "precisions": [{
            "label": "_PRECISION_1_",
            "value": "precision1"
          },
          {
            "label": "_PRECISION_2_",
            "value": "precision2"
          },
          {
            "label": "_PRECISION_3_",
            "value": "precision3"
          },
          {
            "label": "_PRECISION_4_",
            "value": "precision4"
          },
          {
            "label": "_PRECISION_5_",
            "value": "precision5"
          },
          {
            "label": "_PRECISION_6_",
            "value": "precision6"
          },
          {
            "label": "_PRECISION_7_",
            "value": "precision7"
          },
          {
            "label": "_PRECISION_8_",
            "value": "precision8"
          },
          {
            "label": "_PRECISION_9_",
            "value": "precision9"
          },
          {
            "label": "_PRECISION_10_",
            "value": "precision10"
          },
          {
            "label": "_PRECISION_11_",
            "value": "precision11"
          },
          {
            "label": "_PRECISION_12_",
            "value": "precision12"
          }
        ]
      },
      {
        "type": "Default",
        "precisions": []
      }
    ],
    "DateTime": [{
        "propertyId": "precisionNumber",
        "propertyName": "_PRECISION_",
        "propertyType": "number",
        "default": 1,
        "width": 6,
        "position": "left",
        "required": true,
        "qa": "policy-cube-dimension-dateTime-precisionNumber"
      },
      {
        "propertyId": "precisionTime",
        "propertyName": "_WHITE_SPACE_",
        "propertyType": "select",
        "width": 6,
        "position": "right",
        "qa": "policy-cube-dimension-dateTime-precisionTime",
        "default": "m",
        "required": true,
        "values": [{
            "label": "Milliseconds",
            "value": "ms"
          },
          {
            "label": "Seconds",
            "value": "s"
          },
          {
            "label": "Minutes",
            "value": "m"
          },
          {
            "label": "Hours",
            "value": "h"
          },
          {
            "label": "Days",
            "value": "d"
          }
        ]
      },
      {
        "propertyId": "isTimeDimension",
        "propertyName": "_IS_TIME_DIMENSION_",
        "propertyType": "boolean",
        "required": false,
        "qa": "policy-cube-dimension-dateTime-isTimeDimension"
      },
      {
        "propertyId": "computeLastNumber",
        "propertyName": "_COMPUTE_LAST_",
        "propertyType": "number",
        "width": 6,
        "position": "left",
        "default": 10,
        "required": true,
        "qa": "policy-cube-dimension-dateTime-computeLastNumber",
        "visible": [
          [{
            "propertyId": "isTimeDimension",
            "value": true
          }]
        ]
      },
      {
        "propertyId": "computeLastTime",
        "propertyName": "_WHITE_SPACE_",
        "propertyType": "select",
        "width": 6,
        "position": "right",
        "qa": "policy-cube-dimension-dateTime-computeLastTime",
        "default": "m",
        "required": true,
        "values": [{
            "label": "Milliseconds",
            "value": "ms"
          },
          {
            "label": "Seconds",
            "value": "s"
          },
          {
            "label": "Minutes",
            "value": "m"
          },
          {
            "label": "Hours",
            "value": "h"
          },
          {
            "label": "Days",
            "value": "d"
          }
        ],
        "visible": [
          [{
            "propertyId": "isTimeDimension",
            "value": true
          }]
        ]
      }
    ],
    "properties": [{
      "propertyId": "name",
      "propertyName": "_NAME_",
      "propertyType": "text",
      "required": true,
      "qa": "cube-name",
      "width": 12,
      "position": "left"
    }],
    "outputProperties": [{
        "propertyId": "writer.fixedMeasureName",
        "propertyName": "_FIXED_MEASURE_NAME_",
        "propertyType": "text",
        "qa": "cube-fixed-measure-name",
        "width": 6,
        "required": "scope.form['dataSource_FIXED_MEASURE_VALUE_Form']['dataSource_FIXED_MEASURE_VALUE_Form'].$modelValue.length > 0"
      },
      {
        "propertyId": "writer.fixedMeasureValue",
        "propertyName": "_FIXED_MEASURE_VALUE_",
        "propertyType": "text",
        "qa": "cube-fixed-measure-value",
        "required": "false",
        "width": 6,
        "position": "right",
        "required": "scope.form['dataSource_FIXED_MEASURE_NAME_Form']['dataSource_FIXED_MEASURE_NAME_Form'].$modelValue.length > 0"
      },
      {
        "propertyId": "writer.dateType",
        "propertyName": "_DATE_TYPE_",
        "propertyType": "select",
        "required": true,
        "default": "timestamp",
        "qa": "cube-date-type",
        "values": [{
            "label": "_TIMESTAMP_",
            "value": "timestamp"
          },
          {
            "label": "_DATE_",
            "value": "date"
          },
          {
            "label": "_DATE_TIME_",
            "value": "datetime"
          },
          {
            "label": "_LONG_",
            "value": "long"
          },
          {
            "label": "_STRING_",
            "value": "string"
          }
        ],
        "width": 6,
        "position": "left"
      },
      {
        "propertyId": "writer.isAutoCalculatedId",
        "propertyName": "_IS_AUTO_CALCULATED_ID_",
        "propertyType": "boolean",
        "default": false,
        "qa": "cube-is-auto-calculated-id",
        "width": 6,
        "position": "right"
      }
    ],
    "functionNames": [
      "Accumulator",
      "Count",
      "EntityCount",
      "FirstValue",
      "FullText",
      "LastValue",
      "Max",
      "Mean",
      "MeanAssociative",
      "Median",
      "Min",
      "Mode",
      "Range",
      "Stddev",
      "Sum",
      "Variance",
      "TotalEntityCount"
    ],
    "defaultOperatorConfiguration": {
      "inputField": "field1"
    }
  },
  "trigger": {
    "transformation": {
      "defaultName": "trigger",
      "properties": [{
          "propertyId": "name",
          "propertyName": "_NAME_",
          "propertyType": "text",
          "required": true,
          "qa": "trigger-name",
          "width": 12
        },
        {
          "propertyId": "overLastNumber",
          "propertyName": "_OVER_LAST_",
          "propertyType": "number",
          "width": 6,
          "position": "left",
          "required": true,
          "tooltip": "This number has to be multiple of the window batch defined in policy settings",
          "qa": "trigger-overLastNumber"
        },
        {
          "propertyId": "overLastTime",
          "propertyName": "_WHITE_SPACE_",
          "propertyType": "select",
          "width": 6,
          "position": "right",
          "qa": "trigger-overLastTime",
          "required": true,
          "values": [{
              "label": "Milliseconds",
              "value": "ms"
            },
            {
              "label": "Seconds",
              "value": "s"
            },
            {
              "label": "Minutes",
              "value": "m"
            },
            {
              "label": "Hours",
              "value": "h"
            },
            {
              "label": "Days",
              "value": "d"
            }
          ]
        },
        {
          "propertyId": "computeEveryNumber",
          "propertyName": "_COMPUTE_EVERY_",
          "propertyType": "number",
          "width": 6,
          "position": "left",
          "required": true,
          "tooltip": "This number has to be multiple of the window batch defined in policy settings",
          "qa": "trigger-computeEveryNumber"
        },
        {
          "propertyId": "computeEveryTime",
          "propertyName": "_WHITE_SPACE_",
          "propertyType": "select",
          "width": 6,
          "position": "right",
          "qa": "trigger-computeEveryTime",
          "required": true,
          "values": [{
              "label": "Milliseconds",
              "value": "ms"
            },
            {
              "label": "Seconds",
              "value": "s"
            },
            {
              "label": "Minutes",
              "value": "m"
            },
            {
              "label": "Hours",
              "value": "h"
            },
            {
              "label": "Days",
              "value": "d"
            }
          ]
        },
        {
          "propertyId": "sql",
          "propertyName": "_SQL_",
          "propertyType": "textarea",
          "required": true,
          "qa": "trigger-sql",
          "width": 12
        }
      ]
    },
    "cube": {
      "defaultName": "trigger",
      "properties": [{
          "propertyId": "name",
          "propertyName": "_NAME_",
          "propertyType": "text",
          "required": true,
          "qa": "trigger-name",
          "width": 12
        },
        {
          "propertyId": "sql",
          "propertyName": "_SQL_",
          "propertyType": "textarea",
          "required": true,
          "qa": "trigger-sql",
          "width": 12
        }
      ]
    }
  }
}
